나는 자바스크립트와 자바스크립트 엔진의 관계가 너무 헷갈렸다.<br>
자바스크립트 엔진에 붙어있는 '자바스크립트' 때문에 자바스크립트 내부에 무슨 엔진이 있나 하고 생각을 했다.<br>
그러나 이 글을 쓰기위해 조금 공부를 해보니 자바스크립트가 자바스크립트 엔진을 가지고 있는것이 아닌 웹 브라우저가 엔진을 가진다는 것이다.<br>
웹 브라우저마다 사용하는 엔진이 다르며 엔진들이 자바스크립트를 해석하는 것이다.<br>
그래서 이벤트 루프를 알아보기 전에 자바스크립트와 엔진에 대하여 조금 알아보자.

## JavaScript

- 자바스크립트는 웹 브라우저에서 내장되어있는 엔진에 의해 실행되는 스크립트 언어이다.<br>
- 싱글스레드 언어이고, 비동기적인 처리 방식을 지원한다.
<!-- TODO 자바스크립트 -->
- 자바스크립트를 자세히 공부하여 게시한 뒤 링크

## JavaScriptEngine

- V8
  - https://v8.dev/
  - C++로 작성된 Google의 오프소스인 JavaScript 및 WebAssembly 엔진이다.
  - Chrome, Node.js 등 에서 사용된다.
  - V8 compiles and executes JavaScript source code, handles memory allocation for objects, and garbage collects objects it no longer needs.
    (번역해서 정확하게 설명할 자신이 없어 원문 그대로를 발췌)
    <!-- TODO 자바스크립트엔진 -->
- 자바스크립트 엔진을 자세히 공부하여 게시한 뒤 링크

<br>

# 이벤트 루프(Event Loop)

웹 브라우저에서 제공하는 Web API와 자바스크립트 엔진에서 제공하는 API들이 거의 모든 자바스크립트 Api들을 제공한다.<br>
자바스크립트 엔진은 Call Stack 이라는 구조로 API들을 관리한다.<br>
Web API 들은 Event Queue와 Event Loop로 API들을 관리한다.<br>

자바스크립트 런타임 환경에서 제공하는 이벤트루프는 (마이크로태스크 큐 || job queue)와 태스크 큐를 관리한다.<br>
Web API들은 구분지어져 태스크 큐와 마이크로태스크 큐로 배정되는데, 태스크 큐에는 매크로태스크들이 배정된다.<br>
매크로태스크들은 작업의 구분을 짓기위해 이벤트 큐와 콜백큐로 구분짓는데 이는 실로 존재하는 큐가 아니며 구분을 짓기 위해 사용하는 용어다.<br>
Promise 등 이와 같은 작업들은 마이크로태스크 큐에 추가된다.

호출스택이 비워지면 이벤트루프는 적절한 순서로 태스크큐와 마이크로큐에 태스크들을 처리한다.
